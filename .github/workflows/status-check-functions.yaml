name: Status Check Functions
on: [push]

jobs:
    job-1:
        runs-on: ubuntu-latest
        steps:
            - name: Step 1
              run: sleep 20 
            - name: Step 2
              id: step-2
              run: exit 1
    ##Exit Failure: Exit Failure is indicated by exit(1) which means the abnormal termination of the program, i.e. some error or interrupt has occurred. 
            - name: Runs on failure
              if: failure() && steps.step-2.conclusion == 'failure'
    ##
              run: echo 'step-2 has failed'
    
    ##A function that Returns true when any previous step of a job fails. If you have a chain of dependent jobs, failure() returns true if any ancestor job fails.
              
           
            - name: Runs on Success
              if: success()
    ##Returns true when all previous steps have succeeded.
    ##if any step completes without failure , it is successful by default so its not necessary to use the success function unless you have some specific trigger
              run: echo 'runs on success'
            - name: Runs Always
    ##Causes the step to always execute, and returns true, even when canceled
              if: always()
              run: echo 'always Runs' 
            - name: Runs when cancelled
              if: cancelled()
              run: echo 'Runs when cancelled'

    job-2:
        runs-on: ubuntu-latest
        needs: job-1
        if: failure()
        ##this runs if any step of job-1 fails
        steps:
            - run: echo 'job-2'
